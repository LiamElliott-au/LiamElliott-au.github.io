<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Hardcoding. Have your cake and eat it | Liam Elliott</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.74.3" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    

    
      

    

    
    
    <meta property="og:title" content="Hardcoding. Have your cake and eat it" />
<meta property="og:description" content="As a junior developer, one of the key principles that were drummed into me was that hardcoding values is a BAD thing (amongst many other principles). But then more often than not, the pressures of deadlines, project managers and product owners don&rsquo;t afford us the luxury of building an engineered solution the first time around. So we revert to simply hardcoding just to keep everyone happy and deliver a feature. What no one ever mentions is that there are two ways to hardcode values: the RIGHT way and the WRONG way." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://drafts.liamelliott.me/coding/hardcoding-have-your-cake/" />
<meta property="article:published_time" content="2020-06-01T09:42:48+00:00" />
<meta property="article:modified_time" content="2020-06-01T09:42:48+00:00" />
<meta itemprop="name" content="Hardcoding. Have your cake and eat it">
<meta itemprop="description" content="As a junior developer, one of the key principles that were drummed into me was that hardcoding values is a BAD thing (amongst many other principles). But then more often than not, the pressures of deadlines, project managers and product owners don&rsquo;t afford us the luxury of building an engineered solution the first time around. So we revert to simply hardcoding just to keep everyone happy and deliver a feature. What no one ever mentions is that there are two ways to hardcode values: the RIGHT way and the WRONG way.">
<meta itemprop="datePublished" content="2020-06-01T09:42:48+00:00" />
<meta itemprop="dateModified" content="2020-06-01T09:42:48+00:00" />
<meta itemprop="wordCount" content="834">



<meta itemprop="keywords" content="SOLID Principles," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hardcoding. Have your cake and eat it"/>
<meta name="twitter:description" content="As a junior developer, one of the key principles that were drummed into me was that hardcoding values is a BAD thing (amongst many other principles). But then more often than not, the pressures of deadlines, project managers and product owners don&rsquo;t afford us the luxury of building an engineered solution the first time around. So we revert to simply hardcoding just to keep everyone happy and deliver a feature. What no one ever mentions is that there are two ways to hardcode values: the RIGHT way and the WRONG way."/>

	
  </head>

  <body class="ma0 avenir bg-near-white DEV">

    
   
  

  
  
  <header class="cover bg-top" style="background-image: url('https://drafts.liamelliott.me/images/shaadi-ahmadi-t4fhJT1sf0E-unsplash.jpg');">
    <div class="pb3-m pb6-l bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Liam Elliott
      
    </a>
    <div class="flex-l items-center">
      

      
      















    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">Hardcoding. Have your cake and eat it</h1>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        CODING
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://drafts.liamelliott.me/coding/hardcoding-have-your-cake/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://drafts.liamelliott.me/coding/hardcoding-have-your-cake/&amp;text=Hardcoding.%20Have%20your%20cake%20and%20eat%20it" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://drafts.liamelliott.me/coding/hardcoding-have-your-cake/&amp;title=Hardcoding.%20Have%20your%20cake%20and%20eat%20it" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


     
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-06-01T09:42:48Z">June 1, 2020</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>As a junior developer, one of the key principles that were drummed into me was that hardcoding values is a BAD thing (amongst many other principles). But then more often than not, the pressures of deadlines, project managers and product owners don&rsquo;t afford us the luxury of building an engineered solution the first time around. So we revert to simply hardcoding just to keep everyone happy and deliver a feature. What no one ever mentions is that there are two ways to hardcode values: the RIGHT way and the WRONG way.</p>
<p>I&rsquo;ve seen developers new in their career, and even some more experienced fall for this trap. This scenario can play out in many different ways, perhaps it&rsquo;s a Proof of Concept that &ldquo;will just get thrown away&rdquo;. Between you and me, rarely is code simply throw away, I&rsquo;ve heard of too many POC&rsquo;s that find their way into production.</p>
<p>Put simply, If somethings worth doing its worth doing right. Now, I&rsquo;m not advocating wasting time implementing an over-engineered solution to prove a concept, or when time constraints (and PMs) don&rsquo;t allow. What I am saying though is that when done correctly, we can have our cake and eat it too.</p>
<h2 id="the-wrong-way">The WRONG way</h2>
<p>Consider the following scenario:
A junior developer has been tasked to implement a shipping cost calculator. Because of the time constraints, and the small target market the Product Owner is insisting that that solution must be simple, and hardcoding is fine, because &ldquo;we can throw it away and do it properly when we have time&rdquo;.</p>
<p>Being a junior, and somewhat naive developer they go ahead and implement the solution as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShippingService</span>
    {
        <span style="color:#75715e">//As per requirements from Product Owner, Hardcoding countries here, as
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//These won&#39;t change anytime soon, and we don&#39;t have time to create a new database,
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//and service and the added maintenance overhead.
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">public</span> Dictionary&lt;<span style="color:#66d9ef">string</span>,<span style="color:#66d9ef">decimal</span>&gt; countries = <span style="color:#66d9ef">new</span> Dictionary&lt;<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">decimal</span>&gt;
        {
            {<span style="color:#e6db74">&#34;au&#34;</span>,<span style="color:#ae81ff">15</span>M},
            {<span style="color:#e6db74">&#34;us&#34;</span>, <span style="color:#ae81ff">10</span>M}
        };

        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">decimal</span> CalculateShipping(<span style="color:#66d9ef">string</span> country)
        {
            <span style="color:#66d9ef">if</span> (countries.TryGetValue(country.ToLower(), <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">var</span> cost))
            {
                <span style="color:#66d9ef">return</span> cost;
            }
            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Exception(<span style="color:#e6db74">&#34;Country not implemented yet&#34;</span>);
        }
    }
</code></pre></div><p>Clearly, the developer knows this isn&rsquo;t the right thing to do, so they spent more time writing a comment justifying their actions&hellip;
Now, what they don&rsquo;t realise is that:
a. The sales team has sold this feature to another 10 regions
b. The Product Owner has identified another 10 different usages for country data, and not all of them are in the shipping service. Oh, and they&rsquo;ll only tell you about them 1 at a time, over the next few months, to not overwhelm you.
c. The backlog is so jam-packed there won&rsquo;t be any time to go back and refactor any of the Country data anytime soon. Especially when the countries dictionary is so heavily utilised.</p>
<h2 id="the-right-way">The RIGHT way</h2>
<p>Luckily a more seasoned developer has had a chance to review the pull-request and offers the following solution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp">  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Country</span>
    {
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Name {<span style="color:#66d9ef">get</span>;<span style="color:#66d9ef">set</span>;}
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">decimal</span> ShippingRate {<span style="color:#66d9ef">get</span>;<span style="color:#66d9ef">set</span>;}
    }

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> ICountryData
    {
        Country GetCountryByCode(<span style="color:#66d9ef">string</span> code);
    }

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CountryData</span>: ICountryData
    {
        <span style="color:#75715e">//Hardcoded for now, Ideally provided by database
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">public</span> Dictionary&lt;<span style="color:#66d9ef">string</span>,Country&gt; countries = <span style="color:#66d9ef">new</span> Dictionary&lt;<span style="color:#66d9ef">string</span>, Country&gt;
        {
            {<span style="color:#e6db74">&#34;au&#34;</span>,<span style="color:#66d9ef">new</span> Country{Name = <span style="color:#e6db74">&#34;Australia&#34;</span>, ShippingRate=<span style="color:#ae81ff">15</span>M}},
            {<span style="color:#e6db74">&#34;us&#34;</span>,<span style="color:#66d9ef">new</span> Country{Name = <span style="color:#e6db74">&#34;United States&#34;</span>, ShippingRate=<span style="color:#ae81ff">10</span>M}}
        };

        <span style="color:#66d9ef">public</span> Country GetCountryByCode(<span style="color:#66d9ef">string</span> code)
        {
            <span style="color:#66d9ef">if</span> (countries.TryGetValue(code, <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">var</span> country))
            {
                <span style="color:#66d9ef">return</span> country;
            }
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
        }
    }

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShippingService</span>
    {
        <span style="color:#66d9ef">private</span> ICountryData _countryData;
        <span style="color:#66d9ef">public</span> ShippingService(ICountryData countryData)
        {
            _countryData = countryData;
        }

        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">decimal</span> CalculateShipping(<span style="color:#66d9ef">string</span> country)
        {
            <span style="color:#66d9ef">var</span> result = _countryData.GetCountryByCode(country);
            <span style="color:#66d9ef">if</span> (result == <span style="color:#66d9ef">null</span>)
            {
                <span style="color:#66d9ef">return</span> result.ShippingRate;
            }
            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Exception(<span style="color:#e6db74">&#34;Country not implemented yet&#34;</span>);
        }
    }
</code></pre></div><p>Notice that this extra work doesn&rsquo;t <em>cost</em> much more to write. It doesn&rsquo;t avoid the hardcoding. It doesn&rsquo;t worry about databases or external dependencies. It just does the job, in a more <em>ideal</em> way.</p>
<h3 id="why-is-this-a-better-solution">Why is this a better solution</h3>
<p>Adhering more closely to the <a href="https://en.wikipedia.org/wiki/SOLID">SOLID principles</a> we are working toward a more complete solution, as opposed to just solving today&rsquo;s problem.</p>
<p>We are adhering to the Single Responsibility Principle, whereby the Shipping service isn&rsquo;t concerned about the storage of country data.</p>
<p>We use the Interface Segregation Principle, along with Dependency Inversion Principle for the &lsquo;ICountryData&rsquo; so that at any point in the future (when the budget allows) replacing the implementation won&rsquo;t affect any of the calling code.</p>
<p>Importantly, the ICountryData interface, and even the Country class, aren&rsquo;t fully defined just yet. That&rsquo;s OK. No doubt these contracts will grow and evolve as the system grows. At least now we have somewhere to add this information.</p>
<h2 id="conclusion">Conclusion</h2>
<p>When used in this fashion, hardcoding data can aid in the rapid prototyping of very complex systems. Instead of spending time and effort working on complex algorithms, and storage mechanisms etc, we should be looking to abstract out the complexity behind an interface and hardcode the simplest results. This way, we can move on with the rest of the system, without being blocked by some complexity that is not part of our immediate concern. Kick the can down the road, so to speak.</p>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/solid-principles" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">SOLID Principles</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://drafts.liamelliott.me/" >
    &copy;  Liam Elliott 2020 
  </a>
    <div>














</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
